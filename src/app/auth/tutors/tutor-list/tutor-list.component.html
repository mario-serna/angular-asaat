<ng-container *ngIf="isLoading; else elseBlock">
  <div class="center-align">
    <mz-spinner [color]="'blue'" [size]="'big'"></mz-spinner>
  </div>
</ng-container>

<ng-template #elseBlock>
  <ng-container *ngIf="!smallResolution">
    <div class="row">
      <button class="col s6 m1 l1 right blue darken-2" mz-button [disabled]="!swapView" mz-tooltip [tooltip]="'Lista'" [position]="'down'"
        [delay]="'200'" (click)="swapView=false">
        <i mz-icon-mdi [icon]="'format-list-numbers'"></i>
      </button>
      <button class="col s6 m1 l1 right blue darken-2" mz-button [disabled]="swapView" mz-tooltip [tooltip]="'Tabla'" [position]="'down'"
        [delay]="'200'" (click)="swapView=true">
        <i mz-icon-mdi [icon]="'table'"></i>
      </button>
    </div>
  </ng-container>

  <div class="row">
    <table class="bordered highlight col s12 m12 l12" *ngIf="swapView">
      <thead>
        <tr>
          <th></th>
          <th>Número Trabajador</th>
          <th>Nombre</th>
          <th>Usuario</th>
          <th>Correo</th>
          <th></th>
        </tr>
      </thead>
      <tbody *ngFor="let tutor of tutors">
        <tr>
          <td>
            <img class="table-avatar" mz-avatar src="assets/sidenav-demo-avatar.png" routerLink="./{{tutor.id}}">
          </td>
          <td>
            {{tutor.worker_number}}
          </td>
          <td>
            <a routerLink="./{{tutor.id}}">{{tutor.fullname | capitalize}}</a>
          </td>
          <td>{{tutor.username}}</td>
          <td>{{tutor.email}}</td>
          <td>
            <a (click)="deleteTutorModal.open(); selectedTutor=tutor">
              <span mz-tooltip [tooltip]="'Eliminar tutor'" [position]="'down'" [delay]="200">
                <i [class]="'red-text'" mz-icon-mdi [icon]="'close'"></i>
              </span>
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <mz-collection class="col s12 m12 l12" *ngIf="!swapView">
      <mz-collection-item [avatar]="true" *ngFor="let tutor of tutors">
        <img mz-avatar src="assets/sidenav-demo-avatar.png" routerLink="./{{tutor.id}}">
        <div class="title">
          <a routerLink="./{{tutor.id}}">{{tutor.fullname}}</a>
        </div>
        <div>
          <strong>#</strong>{{tutor.worker_number}}
        </div>
        <div>
          <strong>Usuario: </strong>{{tutor.username}}
        </div>
        <div>
          <strong>Correo: </strong>{{tutor.email}}
        </div>
        <a mz-secondary-content (click)="deleteTutorModal.open(); selectedTutor=tutor">
          <span mz-tooltip [tooltip]="'Eliminar tutor'" [position]="'down'" [delay]="200">
            <i [class]="'red-text'" mz-icon-mdi [icon]="'close'"></i>
          </span>
        </a>
      </mz-collection-item>
    </mz-collection>
  </div>
</ng-template>

<mz-modal #deleteTutorModal [fixedFooter]="true" [bottomSheet]="true">
  <mz-modal-header>
    <div class="card-panel red white-text">¿Desea eliminar el tutor?</div>
  </mz-modal-header>
  <mz-modal-content *ngIf="selectedTutor">
    <h5>{{selectedTutor.fullname}}</h5>
  </mz-modal-content>
  <mz-modal-footer>
    <button mz-button [flat]="true" mz-modal-close (click)="deleteTutor()">Aceptar</button>
    <button mz-button [flat]="true" mz-modal-close>Cancelar</button>
  </mz-modal-footer>
</mz-modal>
